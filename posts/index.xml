<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>æ‰€æœ‰æ–‡ç«  - AGou's Blog-2</title><link>https://agou-ops.cn/myBlog-2/posts/</link><description>æ‰€æœ‰æ–‡ç«  | AGou's Blog-2</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Sun, 27 Aug 2023 10:33:38 +0800</lastBuildDate><atom:link href="https://agou-ops.cn/myBlog-2/posts/" rel="self" type="application/rss+xml"/><item><title>è§£å†³VPSé¢‘ç¹GoogleäººæœºéªŒè¯ï¼ˆIPè¢«banï¼‰</title><link>https://agou-ops.cn/myBlog-2/post/%E8%A7%A3%E5%86%B3vps%E9%A2%91%E7%B9%81google%E4%BA%BA%E6%9C%BA%E9%AA%8C%E8%AF%81ip%E8%A2%AB%E5%A2%99/</link><pubDate>Thu, 02 Dec 2021 08:50:05 +0800</pubDate><author>ä½œè€…</author><guid>https://agou-ops.cn/myBlog-2/post/%E8%A7%A3%E5%86%B3vps%E9%A2%91%E7%B9%81google%E4%BA%BA%E6%9C%BA%E9%AA%8C%E8%AF%81ip%E8%A2%AB%E5%A2%99/</guid><description><![CDATA[<p>å‰ä¸¤å¤©å…¥æ‰‹äº†<code>RackNerd</code>çš„ä¸€å°VPSï¼Œé€‰çš„åŒºåŸŸæ˜¯<code>åç››é¡¿è¥¿é›…å›¾</code>ï¼Œæ­å»ºå¥½magicä¸Šç½‘ä¹‹åï¼Œè®¿é—®Googleè€æ˜¯è·³äººæœºéªŒè¯ï¼Œéå¸¸é¢‘ç¹ï¼Œç”¨èµ·æ¥ç‰¹åˆ«çƒ¦äººï¼ˆé—®tgç¾¤é‡Œå¤§å“¥è¯´å¥½åƒé™¤äº†<code>æ´›æ‰çŸ¶</code>åŒºåŸŸå¤–åŸºæœ¬éƒ½è·³GoogleäººæœºéªŒè¯ï¼‰ï¼Œéƒ½æœ‰ç§æƒ³æ¢æœç´¢å¼•æ“çš„å†²åŠ¨ã€‚ä½†æ˜¯æœ¬ç€è¦è§£å†³é—®é¢˜å’Œçˆ±æŠ˜è…¾çš„æ€åº¦ï¼Œè¿˜æ˜¯å°è¯•è§£å†³ä¸€ä¸‹å§ã€‚</p>
<p></p>
<p>:warning: ä»¥ä¸‹éƒ¨åˆ†å†…å®¹æ¥æºäºç½‘ç»œï¼Œä»…åšä¸ªäººå¤‡ä»½å­¦ä¹ ä½¿ç”¨ã€‚</p>]]></description></item><item><title>Debian12äºŒè¿›åˆ¶å®‰è£…k8s v1.25.12</title><link>https://agou-ops.cn/myBlog-2/post/k8s-debian12%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85/</link><pubDate>Sun, 27 Aug 2023 10:33:38 +0800</pubDate><author>ä½œè€…</author><guid>https://agou-ops.cn/myBlog-2/post/k8s-debian12%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%AE%89%E8%A3%85/</guid><description><![CDATA[<h2 id="ä¸€é¢„å…ˆå‡†å¤‡">ä¸€ã€é¢„å…ˆå‡†å¤‡</h2>
<h3 id="11-æœåŠ¡å™¨è§’è‰²">1.1 æœåŠ¡å™¨è§’è‰²</h3>
<p>ç¯å¢ƒä¿¡æ¯ï¼š</p>
<ul>
<li>k8sç‰ˆæœ¬ï¼šv1.25.12</li>
<li>Debian12(bookworm)ï¼šå†…æ ¸6.1.0-9-amd64</li>
</ul>
<table>
<thead>
<tr>
<th>è§’è‰²</th>
<th>IP</th>
<th>ç»„ä»¶åˆ—è¡¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>master</td>
<td>172.19.82.157</td>
<td>kube-apiserverã€kube-controller-manageã€kube-schedulerã€kubeletã€kube-proxyã€etcdã€containerd</td>
</tr>
<tr>
<td>node01</td>
<td>172.19.82.158</td>
<td>kubeletã€kube-proxyã€containerdã€etcd</td>
</tr>
<tr>
<td>node02</td>
<td>172.19.82.159</td>
<td>kubeletã€kube-proxyã€containerdã€etcd</td>
</tr>
</tbody>
</table>]]></description></item><item><title>Containerdï¼‹Harborç§æœ‰ä»“ï¼ˆhttpsï¼‰</title><link>https://agou-ops.cn/myBlog-2/post/containerdharbor%E7%A7%81%E6%9C%89%E4%BB%93https/</link><pubDate>Sat, 17 Jun 2023 08:31:02 +0800</pubDate><author>ä½œè€…</author><guid>https://agou-ops.cn/myBlog-2/post/containerdharbor%E7%A7%81%E6%9C%89%E4%BB%93https/</guid><description><![CDATA[<p>çœ‹ä¼¼ç®€å•ï¼Œå…¶å®ä¸­é—´æœ‰å¾ˆå¤šå‘ï¼Œæœ‰æ—¶å€™ä¸€ä¸ªå°å°çš„é”™è¯¯å°±ä¼šå¯¼è‡´ä¸€è¿ä¸²çš„é—®é¢˜ï¼Œæ•…åœ¨æ­¤è®°å½•ä¸€ä¸‹ã€‚</p>
<h2 id="é¢„å…ˆå‡†å¤‡">é¢„å…ˆå‡†å¤‡</h2>
<h3 id="é…ç½®harbor-https">é…ç½®Harbor https</h3>
<p>ç”ŸæˆCAè‡ªç­¾è¯ä¹¦ã€ç§é’¥ã€haborè¯ä¹¦ç§é’¥ï¼ˆ<code>harbor.xxx.local</code>æ¢æˆä½ è‡ªå·±çš„åŸŸåï¼‰ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># CAç§é’¥</span>
openssl genrsa -out ca.key <span class="m">4096</span>
<span class="c1"># CAè¯ä¹¦</span>
openssl req -x509 -new -nodes -sha512 -days <span class="m">3650</span> <span class="se">\
</span><span class="se"></span> -subj <span class="s2">&#34;/C=CN/ST=Beijing/L=Beijing/O=example/OU=Personal/CN=harbor.xxx.local&#34;</span> <span class="se">\
</span><span class="se"></span> -key ca.key <span class="se">\
</span><span class="se"></span> -out ca.crt
<span class="c1"># ç”Ÿæˆhaborç§é’¥</span>
openssl genrsa -out harbor.key <span class="m">4096</span>
<span class="c1"># ç”Ÿæˆè¯ä¹¦è¯·æ±‚æ–‡ä»¶</span>
openssl req -sha512 -new <span class="se">\
</span><span class="se"></span>    -subj <span class="s2">&#34;/C=CN/ST=Beijing/L=Beijing/O=example/OU=Personal/CN=yourdomain.com&#34;</span> <span class="se">\
</span><span class="se"></span>    -key harbor.key <span class="se">\
</span><span class="se"></span>    -out harbor.csr
<span class="c1"># ç”Ÿæˆx509 v3æ ¼å¼çš„æ–‡ä»¶</span>
cat &gt; v3.ext <span class="s">&lt;&lt;-EOF
</span><span class="s">authorityKeyIdentifier=keyid,issuer
</span><span class="s">basicConstraints=CA:FALSE
</span><span class="s">keyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment
</span><span class="s">extendedKeyUsage = serverAuth
</span><span class="s">subjectAltName = @alt_names
</span><span class="s">
</span><span class="s">[alt_names]
</span><span class="s">DNS.1=harbor.xxx.local
</span><span class="s">DNS.2=harbor.xxx
</span><span class="s">EOF</span>
<span class="c1"># ä½¿ç”¨ä¸Šé¢çš„æ–‡ä»¶æ¥ç­¾ç½²è¯ä¹¦</span>
openssl x509 -req -sha512 -days <span class="m">3650</span> <span class="se">\
</span><span class="se"></span>    -extfile v3.ext <span class="se">\
</span><span class="se"></span>    -CA ca.crt -CAkey ca.key -CAcreateserial <span class="se">\
</span><span class="se"></span>    -in harbor.csr <span class="se">\
</span><span class="se"></span>    -out harbor.crt
</code></pre></td></tr></table>
</div>
</div>]]></description></item><item><title>PVEåˆå§‹åŒ–ç›¸å…³</title><link>https://agou-ops.cn/myBlog-2/post/pve%E5%88%9D%E5%A7%8B%E5%8C%96%E7%9B%B8%E5%85%B3/</link><pubDate>Wed, 10 May 2023 17:21:51 +0800</pubDate><author>ä½œè€…</author><guid>https://agou-ops.cn/myBlog-2/post/pve%E5%88%9D%E5%A7%8B%E5%8C%96%E7%9B%B8%E5%85%B3/</guid><description><![CDATA[<h2 id="å»é™¤ç™»å½•è®¢é˜…å¼¹çª—">å»é™¤ç™»å½•è®¢é˜…å¼¹çª—</h2>
<p>å¤‡ä»½è¯¥æ–‡ä»¶:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">cp /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js<span class="o">{</span>,.bak<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>æ‰¾åˆ°ä»¥ä¸‹ä»£ç ï¼Œå¤§æ¦‚åœ¨<code>546</code>è¡Œ:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="mi">546</span>                     <span class="k">if</span> <span class="p">(</span><span class="nx">res</span> <span class="o">===</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">res</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">||</span> <span class="o">!</span><span class="nx">res</span> <span class="o">||</span> <span class="nx">res</span>
<span class="mi">547</span>                         <span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">status</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">!==</span> <span class="s1">&#39;active&#39;</span><span class="p">)</span> <span class="p">{</span>
</code></pre></td></tr></table>
</div>
</div><p>å°†ä»¥ä¸Šçš„ifæ¡ä»¶æ”¹ä¸ºfalseå³å¯ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-javascript" data-lang="javascript"><span class="k">if</span> <span class="p">(</span><span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
</code></pre></td></tr></table>
</div>
</div><p>ä¿®æ”¹å®Œä¿å­˜æ–‡ä»¶ï¼Œé‡å¯æœåŠ¡ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">systemctl restart pveproxy
</code></pre></td></tr></table>
</div>
</div>]]></description></item><item><title>PVEåˆ¶ä½œé•œåƒæ¨¡æ¿</title><link>https://agou-ops.cn/myBlog-2/post/pve%E5%88%B6%E4%BD%9C%E9%95%9C%E5%83%8F%E6%A8%A1%E6%9D%BF/</link><pubDate>Wed, 10 May 2023 17:21:40 +0800</pubDate><author>ä½œè€…</author><guid>https://agou-ops.cn/myBlog-2/post/pve%E5%88%B6%E4%BD%9C%E9%95%9C%E5%83%8F%E6%A8%A1%E6%9D%BF/</guid><description><![CDATA[<h2 id="åˆ›å»ºè™šæ‹Ÿæœº">åˆ›å»ºè™šæ‹Ÿæœº</h2>
<p>åˆ›å»ºè™šæ‹Ÿæœºï¼ŒIDå’Œåç§°æŒ‰ç…§è‡ªå·±çš„å–œå¥½éšä¾¿å–ï¼š</p>
<p></p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨é€‰æ‹©<code>æ“ä½œç³»ç»Ÿ</code>è¿™ä¸€æ­¥ä¸­ï¼Œä¸è¦é€‰æ‹©ä»»ä½•ä»‹è´¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>]]></description></item><item><title>MacOSåé—¨è§£å†³vim/Neovimå…‰æ ‡è·³è½¬ï¼ˆj/ké”®ï¼‰å¡é¡¿çš„é—®é¢˜ã€‚ã€ä½¿ç”¨karabinerã€‘</title><link>https://agou-ops.cn/myBlog-2/post/macos-%E7%BB%88%E7%AB%AF%E4%B8%8B%E5%85%89%E6%A0%87%E7%A7%BB%E5%8A%A8%E9%97%AE%E9%A2%98/</link><pubDate>Fri, 05 Aug 2022 17:02:21 +0800</pubDate><author>ä½œè€…</author><guid>https://agou-ops.cn/myBlog-2/post/macos-%E7%BB%88%E7%AB%AF%E4%B8%8B%E5%85%89%E6%A0%87%E7%A7%BB%E5%8A%A8%E9%97%AE%E9%A2%98/</guid><description><![CDATA[<p>é—®é¢˜è¯¦æƒ…å‚è€ƒï¼š<a href="https://blog.deskangel.com/2021/04/03/vim-j-k-speed-issue/" target="_blank" rel="noopener noreffer">https://blog.deskangel.com/2021/04/03/vim-j-k-speed-issue/</a></p>
<p>åœ¨iterm2ä¸­å¼ºåˆ¶è®©è‹±æ–‡è¾“å…¥æ³•åˆ‡æ¢ä¸ºå†…ç½®çš„<code>ABCè¾“å…¥æ³•</code>è€Œä¸ä½¿ç”¨æœç‹—æˆ–è€…å…¶ä»–è¾“å…¥æ³•çš„è‹±æ–‡çŠ¶æ€.</p>
<p>åœ¨ä½¿ç”¨iterm2çš„æ—¶å€™ï¼Œå°†<code>å·¦shift</code>é”®é‡æ–°æ˜ å°„ä¸º<code>command+space</code>é”®ï¼ˆåœ¨ç³»ç»Ÿå¿«æ·é”®ä¸­è®¾ç½®åˆ‡æ¢è¾“å…¥æ³•çš„å¿«æ·é”®ï¼Œè¿™é‡Œä½ å¯ä»¥è‡ªå®šä¹‰ï¼‰ã€‚
ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†ä¸Šé¢è¿™ä¸ªé”®ç›˜æ˜ å°„jsonæ–‡ä»¶å¯¼å…¥åˆ°karabineré‡Œé¢ï¼ˆæµè§ˆå™¨æ‰“å¼€å°±å¯ä»¥ï¼Œä¼šè‡ªåŠ¨æ‹‰èµ·karabinerï¼Œè·¯å¾„è‡ªå®šä¹‰ã€‚ï¼‰</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">karabiner://karabiner/assets/complex_modifications/import?url<span class="o">=</span>file:///Users/agou-ops/Desktop/iterm2.json
<span class="c1"># æˆ–è€…ç›´æ¥ä½¿ç”¨æˆ‘ä¸Šä¼ å¥½çš„åœ¨çº¿gistæ–‡ä»¶.</span>
karabiner://karabiner/assets/complex_modifications/import?url<span class="o">=</span>https://gist.githubusercontent.com/AGou-ops/cb8659d99ff47f32eeb14a81ad47a2a9/raw/85b9ecce462330c57de0930d9495d257ed903ac1/iterm2_key.json
</code></pre></td></tr></table>
</div>
</div>]]></description></item><item><title>NGINX LOGS &amp; GEO MAP(Grafana)è¯¦ç»†éƒ¨ç½²</title><link>https://agou-ops.cn/myBlog-2/post/nginx-logs-geo-mapgrafana%E8%AF%A6%E7%BB%86%E9%83%A8%E7%BD%B2/</link><pubDate>Sun, 24 Apr 2022 10:57:38 +0800</pubDate><author>ä½œè€…</author><guid>https://agou-ops.cn/myBlog-2/post/nginx-logs-geo-mapgrafana%E8%AF%A6%E7%BB%86%E9%83%A8%E7%BD%B2/</guid><description><![CDATA[<p></p>
<p>ä»¥ä¸Šæ˜¯<code>Grafana Template</code>çš„é¡µé¢æˆªå›¾ï¼ŒğŸ”— <a href="https://grafana.com/grafana/dashboards/12268" target="_blank" rel="noopener noreffer">https://grafana.com/grafana/dashboards/12268</a></p>]]></description></item><item><title>WindowsæœåŠ¡æ£€æµ‹ä¸é‡å¯ï¼ˆGolangï¼‰</title><link>https://agou-ops.cn/myBlog-2/post/windows%E6%9C%8D%E5%8A%A1%E6%A3%80%E6%B5%8B%E4%B8%8E%E9%87%8D%E5%90%AFgolang/</link><pubDate>Wed, 06 Apr 2022 11:29:42 +0800</pubDate><author>ä½œè€…</author><guid>https://agou-ops.cn/myBlog-2/post/windows%E6%9C%8D%E5%8A%A1%E6%A3%80%E6%B5%8B%E4%B8%8E%E9%87%8D%E5%90%AFgolang/</guid><description>&lt;h2 id="æ£€æµ‹å’Œå¤„ç†é€»è¾‘">æ£€æµ‹å’Œå¤„ç†é€»è¾‘&lt;/h2>
&lt;p>&lt;/p></description></item><item><title>ç½‘ç«™ç®€å•è‡ªåŠ¨éƒ¨ç½²ï¼ˆgit hookï¼‰</title><link>https://agou-ops.cn/myBlog-2/post/%E7%BD%91%E7%AB%99%E7%AE%80%E5%8D%95%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2git-hook/</link><pubDate>Wed, 06 Apr 2022 11:29:12 +0800</pubDate><author>ä½œè€…</author><guid>https://agou-ops.cn/myBlog-2/post/%E7%BD%91%E7%AB%99%E7%AE%80%E5%8D%95%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2git-hook/</guid><description><![CDATA[<h2 id="å¤§è‡´æµç¨‹">å¤§è‡´æµç¨‹</h2>
<p></p>
<p>ä»giteeç§æœ‰ä»“åº“æ‹‰å–ä»£ç ï¼Œé€šè¿‡æœ¬åœ°jenkinså°†ä»£ç pushåˆ°æŒ‡å®šçš„gitæœåŠ¡å™¨ï¼ˆé€šè¿‡sshï¼‰ï¼Œæœ€årsyncåŒæ­¥åˆ°æŒ‡å®šçš„ç½‘ç«™ç›®å½•å½“ä¸­ã€‚</p>]]></description></item><item><title>è¿ç§»åšå®¢è¯„è®ºç³»ç»Ÿä»Utteranc.esåˆ°Giscus</title><link>https://agou-ops.cn/myBlog-2/post/%E8%BF%81%E7%A7%BB%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%88%B0giscus/</link><pubDate>Mon, 21 Mar 2022 10:16:40 +0800</pubDate><author>ä½œè€…</author><guid>https://agou-ops.cn/myBlog-2/post/%E8%BF%81%E7%A7%BB%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E5%88%B0giscus/</guid><description><![CDATA[<p></p>
<p>å›¾ç‰‡æ¥è‡ªï¼š<a href="https://shipit.dev/posts/from-utterances-to-giscus.html" target="_blank" rel="noopener noreffer">https://shipit.dev/posts/from-utterances-to-giscus.html</a></p>]]></description></item></channel></rss>